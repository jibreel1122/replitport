"use strict";(()=>{var e={};e.id=936,e.ids=[936],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},6085:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>_,staticGenerationAsyncStorage:()=>g});var a={};t.r(a),t.d(a,{GET:()=>c,dynamic:()=>l,revalidate:()=>p});var s=t(9303),o=t(8716),i=t(670),n=t(7070),u=t(5655);let l="force-dynamic",p=0;async function c(e){let r=(0,u.$)(),{searchParams:t}=new URL(e.url),a=t.get("locale")||"en",{data:s,error:o}=await r.from("albums").select("slug,cover_image_url,album_translations(*),album_images(*)").order("created_at",{ascending:!1});if(o)return n.NextResponse.json({error:o.message},{status:500});let i=(s||[]).map(e=>{let r=(e.album_translations||[]).find(e=>e.locale===a)||e.album_translations?.[0];return{slug:e.slug,title:r?.title,cover:e.cover_image_url,images:e.album_images||[]}});return n.NextResponse.json({items:i})}let d=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/gallery/route",pathname:"/api/gallery",filename:"route",bundlePath:"app/api/gallery/route"},resolvedPagePath:"/workspace/ffj-site/src/app/api/gallery/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:_}=d,x="/api/gallery/route";function v(){return(0,i.patchFetch)({serverHooks:_,staticGenerationAsyncStorage:g})}},5655:(e,r,t)=>{t.d(r,{$:()=>s});var a=t(9498);function s(){let e=process.env.NEXT_PUBLIC_SUPABASE_URL,r=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;return(0,a.eI)(e,r,{auth:{persistSession:!1}})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,338],()=>t(6085));module.exports=a})();