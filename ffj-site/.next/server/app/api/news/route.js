"use strict";(()=>{var e={};e.id=634,e.ids=[634],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},388:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>_,staticGenerationAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{GET:()=>c,dynamic:()=>p,revalidate:()=>l});var a=r(9303),o=r(8716),n=r(670),i=r(7070),u=r(5655);let p="force-dynamic",l=0;async function c(e){let t=(0,u.$)(),{searchParams:r}=new URL(e.url),s=Number(r.get("page")||"1"),a=Math.min(Number(r.get("pageSize")||"10"),50),o=r.get("locale")||"en",n=(s-1)*a,{data:p,error:l}=await t.from("posts").select("slug,published_at,post_translations(title,summary,locale),post_meta(cover_image_url,tags,category)").eq("status","published").order("published_at",{ascending:!1}).range(n,n+a-1);if(l)return i.NextResponse.json({error:l.message},{status:500});let c=(p||[]).map(e=>{let t=(e.post_translations||[]).find(e=>e.locale===o)||e.post_translations?.[0];return{slug:e.slug,publishedAt:e.published_at,title:t?.title,summary:t?.summary,cover:e.post_meta?.cover_image_url,tags:e.post_meta?.tags||[],category:e.post_meta?.category||null}});return i.NextResponse.json({page:s,pageSize:a,items:c})}let d=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/news/route",pathname:"/api/news",filename:"route",bundlePath:"app/api/news/route"},resolvedPagePath:"/workspace/ffj-site/src/app/api/news/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:_}=d,h="/api/news/route";function x(){return(0,n.patchFetch)({serverHooks:_,staticGenerationAsyncStorage:g})}},5655:(e,t,r)=>{r.d(t,{$:()=>a});var s=r(9498);function a(){let e=process.env.NEXT_PUBLIC_SUPABASE_URL,t=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;return(0,s.eI)(e,t,{auth:{persistSession:!1}})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,338],()=>r(388));module.exports=s})();