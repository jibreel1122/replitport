"use strict";(()=>{var e={};e.id=871,e.ids=[871],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},8044:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>_,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>j});var s={};r.r(s),r.d(s,{GET:()=>l,dynamic:()=>u,revalidate:()=>c});var o=r(9303),a=r(8716),i=r(670),n=r(7070),p=r(5655);let u="force-dynamic",c=0;async function l(e){let t=(0,p.$)(),{searchParams:r}=new URL(e.url),s=r.get("locale")||"en",{data:o,error:a}=await t.from("projects").select("slug,status,location,project_translations(*),project_media(*)").order("created_at",{ascending:!1});if(a)return n.NextResponse.json({error:a.message},{status:500});let i=(o||[]).map(e=>{let t=(e.project_translations||[]).find(e=>e.locale===s)||e.project_translations?.[0];return{slug:e.slug,status:e.status,location:e.location,title:t?.title,description:t?.description,images:e.project_media||[]}});return n.NextResponse.json({items:i})}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/projects/route",pathname:"/api/projects",filename:"route",bundlePath:"app/api/projects/route"},resolvedPagePath:"/workspace/ffj-site/src/app/api/projects/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:j,serverHooks:x}=d,g="/api/projects/route";function _(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:j})}},5655:(e,t,r)=>{r.d(t,{$:()=>o});var s=r(9498);function o(){let e=process.env.NEXT_PUBLIC_SUPABASE_URL,t=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;return(0,s.eI)(e,t,{auth:{persistSession:!1}})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,338],()=>r(8044));module.exports=s})();